"use strict";(self.webpackChunksdash=self.webpackChunksdash||[]).push([[933],{6933:(Y,u,o)=>{o.r(u),o.d(u,{HomeModule:()=>P});var i=o(0),n=o(5e3),h=o(5043),d=o(3121),N=o(4004),g=o(520),l=o(262),C=o(9646),x=o(2843),f=o(7078);let F=(()=>{class e{constructor(t,s,r,p){this.http=t,this.logger=s,this.store=r,this.router=p}get(t,s={}){const r=new g.WM({"Content-Type":"application/json",Authorization:"Bearer "+this.store.value.access_token});return s.headers=r,this.http.get(t,s).pipe((0,l.K)(this.handleError(s.operation||"GET "+t,s.failWith?s.failWith:null)))}post(t,s,r={}){return this.http.post(t,s,r).pipe((0,l.K)(this.handleError(r.operation||"POST "+t,r.failWith?r.failWith:null)))}put(t,s,r={}){return this.http.put(t,s,r).pipe((0,l.K)(this.handleError(r.operation||"PUT "+t,r.failWith?r.failWith:null)))}delete(t,s={}){return this.http.delete(t,s).pipe((0,l.K)(this.handleError(s.operation||"DELETE "+t,s.failWith?s.failWith:null)))}upload(t,s={}){return this.http.request(t).pipe((0,l.K)(this.handleError(s.operation||"UPLOAD "+t.url,s.failWith?s.failWith:null)))}handleError(t,s){return r=>(this.logger.log(`${t} failed: ${r.message} with message: ${r.error.error.message}`),"the access token expired"===r.error.error.message.toLowerCase()&&this.router.navigate(["/login"]),s?(0,C.of)(s):(0,x._)(r))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(g.eN),n.LFG(h.m),n.LFG(f.y),n.LFG(i.F0))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),w=(()=>{class e{constructor(t){this.http=t,this.newReleaseUrl=d.g.API_URL+d.g.API_NEW_RELEASES+"?limit=50"}getNewReleases(){return this.http.get(this.newReleaseUrl).pipe((0,N.U)(t=>(console.log(t),t.albums.items.map(({id:r,images:p,name:U,artists:W,type:I,album_type:j})=>({id:r,images:p,name:U,artists:W,type:I,album_type:j})))))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(F))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=o(9808),m=o(9224),v=o(6688);let M=(()=>{class e{transform(t){return t&&0!=t.length?t.length>0?t[0].url:void 0:"assets/default-image.png"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"image",type:e,pure:!0}),e})();function A(e,a){if(1&e&&(n.TgZ(0,"mat-card-subtitle"),n._uU(1),n.qZA()),2&e){const t=a.$implicit;n.xp6(1),n.Oqu(t.name)}}function H(e,a){if(1&e&&(n.TgZ(0,"mat-card",2)(1,"mat-card-title"),n._uU(2),n.qZA(),n.YNc(3,A,2,1,"mat-card-subtitle",3),n._UZ(4,"img",4),n.ALo(5,"image"),n.TgZ(6,"mat-chip-list")(7,"mat-chip",5),n._uU(8),n.ALo(9,"uppercase"),n.qZA()()()),2&e){const t=n.oxw();n.xp6(2),n.Oqu(t.item.name),n.xp6(1),n.Q6J("ngForOf",t.item.artists),n.xp6(1),n.Q6J("src",n.lcZ(5,4,t.item.images),n.LSH),n.xp6(4),n.Oqu(n.lcZ(9,6,t.item.album_type))}}let R=(()=>{class e{constructor(t){this.newReleaseService=t}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(w))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-new-releases"]],inputs:{item:"item"},decls:2,vars:1,consts:[[1,"new-releases-container"],["class","new-release-item mat-elevation-z10",4,"ngIf"],[1,"new-release-item","mat-elevation-z10"],[4,"ngFor","ngForOf"],["mat-card-image","","alt","Album image",1,"new-release-item-img",3,"src"],[1,"new-release-item-chip"]],template:function(t,s){1&t&&(n.TgZ(0,"div",0),n.YNc(1,H,10,8,"mat-card",1),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngIf",s.item))},directives:[c.O5,m.a8,m.n5,c.sg,m.$j,m.G2,v.qn,v.HS],pipes:[M,c.gd],styles:[".new-releases-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;justify-content:space-evenly;height:100%}.new-release-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1em;width:250px;height:300px}.new-release-item-img[_ngcontent-%COMP%]{max-width:200px;max-height:200px;margin-left:1.5em}.new-release-item-chip[_ngcontent-%COMP%]{justify-self:flex-end;border:1px solid #1DB954}.mat-chip-list-wrapper[_ngcontent-%COMP%]{justify-content:center!important}"]}),e})();function S(e,a){1&e&&n._UZ(0,"app-new-releases",2),2&e&&n.Q6J("item",a.$implicit)}const E=[{path:"",component:(()=>{class e{constructor(t,s,r){this.logger=t,this.newReleasesService=s,this.store=r,this.newReleases=[]}ngOnInit(){this.getNewReleases()}getNewReleases(){this.newReleasesService.getNewReleases().subscribe(t=>{this.newReleases=t})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(h.m),n.Y36(w),n.Y36(f.y))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-home"]],decls:4,vars:1,consts:[[1,"section-title"],[3,"item",4,"ngFor","ngForOf"],[3,"item"]],template:function(t,s){1&t&&(n.TgZ(0,"section")(1,"h1",0),n._uU(2,"New Releases"),n.qZA(),n.YNc(3,S,1,1,"app-new-releases",1),n.qZA()),2&t&&(n.xp6(3),n.Q6J("ngForOf",s.newReleases))},directives:[c.sg,R],styles:[""]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[i.Bz.forChild(E)],i.Bz]}),e})();var T=o(8684);const Z=[{path:"",component:R}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[i.Bz.forChild(Z)],i.Bz]}),e})();var y=o(2524);let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[B,y.m]]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[y.m,O,T.d,L]]}),e})()}}]);